class Cmp {
public:
    bool operator() (vector<int> v1, vector<int> v2) {
		
        double d1 = ( (double) (v1[0] + 1) / (double) (v1[1] + 1) ) - ( (double) v1[0] / (double) v1[1] );
        double d2 = ( (double) (v2[0] + 1) / (double) (v2[1] + 1) ) - ( (double) v2[0] / (double) v2[1] );

        if(d1 < d2) {
			return true;
		}
        else if(d1 == d2) {
            return v1[1] > v2[1];
        }
		return false;
	}

};

class Solution {

public:
    double maxAverageRatio(vector<vector<int>>& classes, int extraStudents) {

        priority_queue<vector<int>, vector<vector<int>>, Cmp> pq(classes.begin(), classes.end());



        while(extraStudents--) {
            vector<int> c = pq.top();
            pq.pop();
            pq.push( {c[0] + 1, c[1] + 1} );
        }

        int size = classes.size();
        double res = 0;

        while(!pq.empty()) {
            res += (double) pq.top()[0] / (double) pq.top()[1];
            pq.pop();
        }

        return res / size;
    }
};1792. Maximum Average Pass Ratio
